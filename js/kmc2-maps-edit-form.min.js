function addClickFunctions(){jQuery('#table-kmc2-visited-places input[name="kmc2-visited-places-del"]').click(function(){jQuery(this).parent().parent().remove()});jQuery('#table-kmc2-visited-places input[name="kmc2-visited-places-get"]').click(function(){i=jQuery("input[type=hidden]",jQuery(this).parent().parent()).val();s="kmc2-visited-places-name-"+i;q=jQuery('input[name="'+s+'"]').val();jQuery.get(geocode_url,{address:q,sensor:!1},function(e){if(e.status!=="OK"){console.log(e);return!1}jQuery('input[name="kmc2-visited-places-lat-'+i+'"]').val(e.results[0].geometry.location.lat);jQuery('input[name="kmc2-visited-places-lon-'+i+'"]').val(e.results[0].geometry.location.lng);console.log(e);return!0})})}basepath=kmc2_vars.basepath;ajaxUrl=kmc2_vars.siteurl+"wp-admin/admin-ajax.php";var geocode_url="http://maps.googleapis.com/maps/api/geocode/json?",fixHelperModified=function(e,t){var n=t.children(),r=t.clone();r.children().each(function(e){jQuery(this).width(n.eq(e).width())});return r},updateIndex=function(e,t){jQuery("#table-kmc2-visited-places tr").each(function(e){jQuery("input[type=hidden]",this).val(e-1)})};jQuery("#table-kmc2-visited-places tbody").sortable({helper:fixHelperModified,update:updateIndex}).disableSelection();addClickFunctions();jQuery('#table-kmc2-visited-places input[name="kmc2-visited-places-add"]').click(function(){var e=jQuery("#table-kmc2-visited-places tr").length-1;jQuery("#table-kmc2-visited-places").append('<tr><td><input type="hidden" name="kmc2-visited-places-index-'+e+'" value="'+e+'"><input name="kmc2-visited-places-name-'+e+'" type="text" value="" size="40"></td><td><input name="kmc2-visited-places-lon-'+e+'" type="text" value="" size="40"></td><td><input name="kmc2-visited-places-lat-'+e+'" type="text" value="" size="40"></td><td><input name="kmc2-visited-places-get" type="button" value="Get coordinates"></td><td><input name="kmc2-visited-places-del" type="button" value="Delete place"></td></tr>');addClickFunctions()});getResponse=function(e){s="kmc2-visited-places-name-"+e;q=jQuery('input[name="'+s+'"]').val();jQuery.get(geocode_url,{address:q,sensor:!1},function(t){if(t.status!=="OK"){console.log(t);return!1}jQuery('input[name="kmc2-visited-places-lat-'+e+'"]').val(t.results[0].geometry.location.lat);jQuery('input[name="kmc2-visited-places-lon-'+e+'"]').val(t.results[0].geometry.location.lng);console.log(t);return!0})};jQuery('#table-kmc2-visited-places input[name="kmc2-visited-places-get-all"]').click(function(){n=jQuery("#table-kmc2-visited-places tr").length;for(i=0;i<n-1;i++)aux=getResponse(i)});