jQuery(document).ready(function(){"use strict";var e,t,n,r,i,s,o,u,a;a=kmc2_visualization_vars.siteurl+"wp-admin/admin-ajax.php";if(jQuery("#trip-map").length===0)return!1;e=L.map("trip-map",{scrollWheelZoom:!1,doubleClickZoom:!1,touchZoom:!1,fullscreenControl:!0});e.on("enterFullscreen",function(){e.scrollWheelZoom.enable();e.doubleClickZoom.enable();e.touchZoom.enable()});e.on("exitFullscreen",function(){e.scrollWheelZoom.disable();e.doubleClickZoom.disable();e.touchZoom.disable()});t=new L.StamenTileLayer("watercolor");e.addLayer(t);e.fitWorld();n=[];jQuery.ajax({type:"POST",url:a+"?action=kmc2_trip_places",data:{cat:kmc2_visualization_vars.category_id},success:function(t){t=jQuery.parseJSON(t);for(s=0;s<t.length;s++){o=t[s];u=o.name;i=L.marker(L.latLng(o.lat,o.lon),{title:u});i.bindPopup(u);i.addTo(e);n.push(i)}r=L.featureGroup(n);e.fitBounds(r.getBounds(),{padding:[10,10]});r.addTo(e)}})});